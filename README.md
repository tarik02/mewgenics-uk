# Mewgenics — Український переклад

Неофіційна українська локалізація для гри [Mewgenics](https://store.steampowered.com/app/1223680/Mewgenics/) у Steam. Використовує LLM для перекладу англійського тексту гри українською та встановлює переклад безпосередньо у гру.

[English version](README.en.md)

![Скріншот гри з українським перекладом](.github/media/game-uk.png)

## Для гравців

Завантажте останню збірку для вашої платформи з [Releases](https://github.com/tarik02/mewgenics-uk/releases), запустіть виконуваний файл, і він автоматично:

1. Знайде вашу інсталяцію Mewgenics через Steam
2. Скопіює файли перекладу у папку гри

Або завантажте архів `mewgenics-uk-data.zip` та розпакуйте його вміст у папку гри вручну.

Запускайте інсталятор (або розпаковуйте архів) повторно після кожного оновлення гри, щоб повторно застосувати переклад.

## Нюанси, покращення на майбутнє

- Якщо ви хочете повернутися до оригінальної гри, видаліть скопійовані файли перекладу з папки гри або запустіть перевірку файлів гри через Steam.
- В перекладі можливі помилки або неточності, оскільки він створений автоматично з мінімальним ручним втручанням.
- Було б непогано автоматизувати процес оновлення перекладу після патчу гри (steamcmd + регулярний github actions).

## Додаткові зміни

### data/uk/translated/swfs/unicodefont.swf

Файл було відредаговано за допомогою [JPEXS Free Flash Decompiler](https://github.com/jindrapetrik/jpexs-decompiler).
Єдина зміна - в шрифт "Noto Sans CJK TC Regular" було додано символи "іїєІЇЄ" з шрифту "Noto Sans Regular".

## Для розробників

### Вимоги

- Пакетний менеджер [uv](https://docs.astral.sh/uv/)

### Встановлення

```bash
uv sync
```

### Робочий процес

Процес перекладу складається з трьох кроків:

**1. Витягнення** англійського тексту з архіву гри:

```bash
uv run python extract_text.py
```

Автоматично визначає інсталяцію Steam. Можна вказати шлях вручну через `--gpak <шлях>`. Результат зберігається у `data/extracted/`.

**2. Переклад** за допомогою OpenAI-сумісного API:

```bash
uv run python translate.py
```

Потрібні змінні середовища `OPENAI_API_KEY` (та опціонально `OPENAI_BASE_URL`).

Параметри:

| Прапорець | Опис | За замовчуванням |
|-----------|------|------------------|
| `--lang <код>` | Мова перекладу (`uk`, `de`, `fr`, `es`, `it`, `pt`, `pl`, `ja`, `ko`, `zh`) | `uk` |
| `--model <назва>` | Модель LLM | `gpt-5-mini` |
| `--workers <n>` | Кількість паралельних запитів до API | `8` |
| `--file <назва>` | Перекласти окремий CSV файл | усі файли |
| `--resume` | Продовжити після переривання | вимкнено |
| `--fresh` | Перекласти все з нуля | вимкнено |

Можливості перекладу:
- Пакетна обробка (20 текстів за запит) з автоматичним відкатом до поодинокого перекладу
- Виявлення змін — перекладаються лише нові або змінені англійські записи
- Підтримка відновлення через файл прогресу (`data/<lang>/progress.json`)
- Опціональний глосарій (`data/<lang>/glossary.csv`) для узгодженої термінології
- Опціональний користувацький промпт (`data/<lang>/prompt.txt`) для правил конкретної мови
- Збереження ігрової розмітки (`[img:...]`, `[b]`, `[color...]` тощо)

**3. Встановлення** перекладу у гру:

```bash
uv run python install.py
```

Копіює перекладені файли у папку гри, де вони завантажуються замість вмісту `resources.gpak`.

### Збірка виконуваних файлів

```bash
uv run --group build python build_exe.py
```

Створює один виконуваний файл у `dist/`, що містить перекладені дані та інсталятор.

## Підтримка

Якщо вам подобається цей проєкт, підтримайте автора:

- [Спонсорство на GitHub](https://github.com/sponsors/tarik02)
- [Buy Me A Coffee](https://buymeacoffee.com/tarik02)

## Ліцензія

[MIT](LICENSE)
